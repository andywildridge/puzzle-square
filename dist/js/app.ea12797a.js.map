{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Board2.vue?178e","webpack:///./src/components/Shape.vue?29ea","webpack:///./src/components/Stage.vue?84dd","webpack:///./src/App.vue","webpack:///./src/components/Stage.vue","webpack:///./src/components/Board.vue","webpack:///./src/components/Peg.vue","webpack:///./src/components/Peg.vue?3d44","webpack:///./src/components/Board.vue?7db1","webpack:///./src/components/Board2.vue","webpack:///./src/components/Board2.vue?d604","webpack:///./src/components/Board3.vue","webpack:///./src/components/Board3.vue?8d68","webpack:///./src/components/Shape.vue","webpack:///./src/components/Shape.vue?e08e","webpack:///./src/utils/canPlace.js","webpack:///./src/utils/gridComplete.js","webpack:///./src/utils/transformCoord.js","webpack:///./src/utils/unitSize.js","webpack:///./src/utils/snap.js","webpack:///./src/components/Stage.vue?3d0c","webpack:///./src/utils/dice.js","webpack:///./src/utils/shapesDefns.js","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/Board3.vue?5015","webpack:///./src/components/Peg.vue?9429","webpack:///./src/App.vue?2dc7","webpack:///./src/components/Board.vue?27fe"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","shapes","pegs","class","href","target","mouseup","mousedown","mousemove","shape","index","id","move","rotate","flip","shapeData","position","completed","peg","x","style","cssProps","randomBorder","Math","round","random","props","computed","this","y","render","__scopeId","components","Peg","Array","created","console","log","script","ref","mouseout","dblclick","width","viewBox","viewbox","defnCoords","coord","height","stroke","stroke-width","rx","fill","color","data-target","handleSize","handleDirection","defnToCoords","defn","coords","reduce","arr","row","rowIdx","forEach","col","colIdx","Number","watch","newVal","size","z","mounted","moveStart","moveNow","methods","e","dataset","shapeElBCR","$refs","getBoundingClientRect","segmentElBCR","bottom","pageY","top","right","pageX","left","centre","angle","atan2","PI","$emit","startAngle","rotation","el","renderDefn","transform","transformOrigin","zIndex","animate","duration","canPlace","gridPlacings","gridCoords","occupiedSquares","keys","collision","some","square","gridComplete","count","transformCoord","unitSize","snap","snapOffset","gridX","gridY","reverse","rotateArrayCoords","_","rotateCoords","map","lastValidPosition","Board","Board2","Board3","Shape","idx","moveItem","type","startX","startY","dice","getPegs","die","face","floor","Stage","createApp","App","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,kBAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,oCCAA,W,2DCAA,W,iLCCE,eAAuC,GAA/ByC,OAAQ,EAAAA,OAASC,KAAM,EAAAA,M,6ECC1BC,MAAM,a,GASJA,MAAM,U,mBAsBQA,MAAM,Q,iBAAO,gH,EAEF,eACgB,KADbC,KAAK,wDACxCC,OAAO,UAAS,gCAA4B,G,KADZ,G,0LAlChC,eAAU,GACV,eAEM,MAFN,EAEM,CADJ,eAAU,KAEZ,eA0BM,OAzBH,UAAO,8BAAE,EAAAC,SAAA,EAAAA,QAAA,qBACT,YAAS,8BAAE,EAAAC,WAAA,EAAAA,UAAA,qBACX,YAAS,8BAAE,EAAAC,WAAA,EAAAA,UAAA,qBACZL,MAAM,S,CAEN,eAmBM,MAnBN,EAmBM,CAlBJ,eAAsB,GAAdD,KAAM,EAAAA,MAAI,kB,mBAClB,eAgBE,2BAfyB,EAAAD,QAAM,SAAvBQ,EAAOC,G,wBADjB,eAgBE,GAdCnB,IAAKmB,EACLC,GAAID,EACJ,OAAM,EAAAE,KACN,SAAQ,EAAAC,OACR,OAAM,EAAAC,KACNC,UAAW,EAAAA,UAAUL,GACrBM,SAAQ,C,EAAiB,YAAU,GAAO,E,EAAgB,YAAU,GAAO,E,EAAgB,YAAU,GAAO,E,KAAmB,YAAU,GAAO,K,KAAsB,YAAU,GAAO,K,OAAwB,YAAU,GAAO,QAAM,I,mFAWlO,EAAAC,W,iBAAX,eAAsC,QAAhB,e,sBACZ,EAAAA,U,wCAAV,eAII,IAJJ,EAII,K,wFCpCCd,MAAM,S,4EAAX,eAEM,MAFN,EAEM,E,mBADJ,eAAiE,2BAArC,EAAAD,MAAI,SAAnBgB,EAAKR,G,wBAAlB,eAAiE,GAA9BnB,IAAKmB,EAAQM,SAAUE,G,+ICD5D,eAAgD,OAA3Cf,MAAM,MAAOgB,EAAG,EAAAA,EAAIC,MAAK,eAAE,EAAAC,W,sCAIlC,SAASC,IACP,OAAOC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,GAE3B,OACbjD,KAAM,MACNkD,MAAO,CACLV,SAAUnE,QAEZ8E,SAAU,CACRN,SADQ,WAEN,MAAO,CACL,MAAyB,GAAlBO,KAAKZ,SAASG,EAAS,EAAI,KAClC,MAAyB,GAAlBS,KAAKZ,SAASa,EAAS,EAAI,KAClC,0BAAoBP,IAApB,aAAuCA,IAAvC,aAA0DA,IAA1D,aAA6EA,IAA7E,eAAkGA,IAAlG,aAAqHA,IAArH,aAAwIA,IAAxI,aAA2JA,IAA3J,S,UCbR,EAAOQ,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QFCA,GACbvD,KAAM,QACNwD,WAAY,CACVC,OAEFP,MAAO,CACLxB,KAAMgC,OAERC,QARa,WASXC,QAAQC,IAAIT,KAAK1B,Q,UGbrB,EAAO4B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,yCCPR5B,MAAM,S,wCAAX,eAAyB,MAAzB,G,2BCAF,MAAMmC,EAAS,GAGfA,EAAOR,OAAS,EAChBQ,EAAOP,UAAY,kBAEJ,Q,yCCNR5B,MAAM,S,wCAAX,eAAyB,MAAzB,G,2BCAF,MAAM,EAAS,GAGf,EAAO2B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,uHCNb,eAyBM,OAxBJQ,IAAI,QACH,YAAS,8CAAU,EAAAhC,WAAA,EAAAA,UAAA,qBAAS,cAC5B,YAAS,8CAAU,EAAAC,WAAA,EAAAA,UAAA,qBAAS,cAC5B,WAAQ,8BAAE,EAAAgC,UAAA,EAAAA,SAAA,qBACV,WAAQ,8CAAU,EAAAC,UAAA,EAAAA,SAAA,qBAAQ,cAC3BtC,MAAM,S,mBAEN,eAgBM,OAhBDuC,MAAM,OAAQC,QAAS,EAAAC,S,CAC1B,eAcI,W,mBAbF,eAYE,2BAXyB,EAAAC,YAAU,SAA3BC,EAAOpC,G,wBADjB,eAYE,QAVOnB,IAAKmB,EACXS,EAAG2B,EAAM3B,EAAC,IACVU,EAAGiB,EAAMjB,EAAC,IACXa,MAAM,QACNK,OAAO,QACPC,OAAO,sBACPC,eAAa,QACbC,GAAG,MACFC,KAAM,EAAApC,UAAUqC,MACjBC,cAAY,Q,iEAQlBC,EAAa,GACbC,EAAkB,EAEtB,SAASC,EAAaC,GACpB,IAAMC,EAASD,EAAKE,QAAO,SAACC,EAAKC,EAAKC,GAMpC,OALAD,EAAIE,SAAQ,SAACC,EAAKC,GACZD,GACFJ,EAAI1G,KAAK,CAAEiE,EAAG8C,EAAQpC,EAAGiC,OAGtBF,IACN,IACH,OAAOF,EAGM,OACblF,KAAM,QACNkD,MAAO,CACLf,GAAIuD,OACJnD,UAAWlE,OACXmE,SAAUnE,QAEZsH,MAAO,CACLnD,SAAU,SAAUoD,GAClBxC,KAAKE,OACHsC,EAAOjD,EACPiD,EAAOvC,EACPuC,EAAOvD,OACPuD,EAAOC,KACPD,EAAOtD,KACPsD,EAAOE,KAIbC,QAnBa,WAoBX3C,KAAKE,OAAOF,KAAKb,UAAUI,EAAGS,KAAKb,UAAUc,IAE/CzF,KAtBa,WAuBX,MAAO,CACLoI,UAAW,CACTrD,EAAG,KACHU,EAAG,MAEL4C,QAAS,CACPtD,EAAG,KACHU,EAAG,MAELgB,WAAYW,EAAa5B,KAAKb,UAAU0C,MACxCf,MAAOd,KAAKb,UAAU0C,KAAK,GAAG7G,OAC9BmG,OAAQnB,KAAKb,UAAU0C,KAAK7G,OAC5BgG,QAAS,OAAF,OAAShB,KAAKb,UAAU0C,KAAK,GAAG7G,OAAhC,YAA0CgF,KAAKb,UAAU0C,KAAK7G,UAGzE8H,QAAS,CACPlC,SADO,WAELZ,KAAKE,OACHF,KAAKb,UAAUI,EACfS,KAAKb,UAAUc,EACfD,KAAKb,UAAUF,OACfe,KAAKb,UAAUsD,KACfzC,KAAKb,UAAUD,KACfc,KAAKb,UAAUuD,GAEjBhB,EAAa,GACbC,IAAoB,GAEtB/C,UAbO,SAaGmE,GACR,GAAIA,EAAEtE,OAAOuE,QAAQvE,OAAQ,CAC3B,IAAMwE,EAAajD,KAAKkD,MAAMrE,MAAMsE,wBAC9BC,EAAeL,EAAEtE,OAAO0E,yBAE3BF,EAAWI,OAASN,EAAEO,MAAQ5B,GAC7BuB,EAAWM,IAAMR,EAAEO,OAAS5B,GAC5BuB,EAAWO,MAAQT,EAAEU,MAAQ/B,GAC7BuB,EAAWS,KAAOX,EAAEU,OAAS/B,KAC7B0B,EAAaG,IAAMR,EAAEO,OAAS5B,GAC9B0B,EAAaM,KAAOX,EAAEU,OAAS/B,GAC9B0B,EAAaG,IAAMR,EAAEO,OAAS5B,GAC7B0B,EAAaI,MAAQT,EAAEU,MAAQ/B,GAChC0B,EAAaC,OAASN,EAAEO,MAAQ5B,GAC/B0B,EAAaM,KAAOX,EAAEU,OAAS/B,GAChC0B,EAAaC,OAASN,EAAEO,MAAQ5B,GAC/B0B,EAAaI,MAAQT,EAAEU,MAAQ/B,IAEnC1B,KAAKE,OACHF,KAAKb,UAAUI,EACfS,KAAKb,UAAUc,EACfD,KAAKb,UAAUF,OAAS0C,EACxB3B,KAAKb,UAAUsD,KACfzC,KAAKb,UAAUD,KACfc,KAAKb,UAAUuD,GAEjBhB,EAAa,KAEb1B,KAAKE,OACHF,KAAKb,UAAUI,EACfS,KAAKb,UAAUc,EACfD,KAAKb,UAAUF,OACfe,KAAKb,UAAUsD,KACfzC,KAAKb,UAAUD,KACfc,KAAKb,UAAUuD,GAEjBhB,EAAa,GACbC,IAAoB,KAI1BhD,UAtDO,SAsDGoE,GACR,GAAIA,EAAEtE,OAAOuE,QAAQvE,OAAQ,CAC3B,IAAMwE,EAAajD,KAAKkD,MAAMrE,MAAMsE,wBACpC,GACEF,EAAWI,OAASN,EAAEO,MAAQ,IAC9BL,EAAWM,IAAMR,EAAEO,OAAS,IAC5BL,EAAWO,MAAQT,EAAEU,MAAQ,IAC7BR,EAAWS,KAAOX,EAAEU,OAAS,GAC7B,CACA,IAAME,EAAS,CACbpE,EAAG0D,EAAWS,KAAOT,EAAWnC,MAAQ,EACxCb,EAAGgD,EAAWM,IAAMN,EAAW9B,OAAS,GAEpCyC,EACkD,IAArDjE,KAAKkE,MAAMd,EAAEO,MAAQK,EAAO1D,EAAG8C,EAAEU,MAAQE,EAAOpE,GACjDI,KAAKmE,GACP9D,KAAK+D,MAAM,SAAU,CACnBhF,GAAIiB,KAAKjB,GACTiF,WAAYJ,EAAQ5D,KAAKZ,SAASH,OAClC0E,gBAGF3D,KAAK+D,MAAM,OAAQ/D,KAAKjB,MAM9B8B,SAlFO,WAmFLb,KAAK+D,MAAM,OAAQ/D,KAAKjB,KAE1BmB,OArFO,SAqFAX,EAAGU,GAA4C,IAAzCgE,EAAyC,uDAA9B,EAAGxB,EAA2B,uDAApB,EAAGvD,EAAiB,uDAAV,EAAGwD,EAAO,uDAAH,EAE3CwB,EAAKlE,KAAKkD,MAAMrE,MAChBsF,EAAa,CACjBrD,MAAO,GAAF,OAAkB,GAAbd,KAAKc,MAAV,MACLK,OAAQ,GAAF,OAAmB,GAAdnB,KAAKmB,OAAV,MACNiD,UAAW,aAAF,OAAe7E,EAAf,eAAuBU,EAAvB,sBAAsCgE,EAAtC,sBAA4DxB,EAA5D,aAAqEvD,EAArE,KACTmF,gBAAiB,SACjBC,OAAQ5B,GAGVwB,EAAGK,QAAQ,CAACJ,EAAYA,GAAa,CAAEK,SAAU,EAAGjD,KAAM,gB,UC9KhE,EAAOrB,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,UCRf,SAASsE,EAASC,EAAcC,EAAY5F,GAC1C,IAAM6F,EAAkB3J,OAAO4J,KAAKH,GAAc3C,QAAO,SAACC,EAAKrE,GAK7D,OAHIoB,MAASpB,GAAe,SAARA,GAClB+G,EAAa/G,GAAKwE,SAAQ,SAACrH,GAAD,OAAOkH,EAAI1G,KAAKR,MAErCkH,IACN,IACG8C,EAAYH,EAAWI,MAAK,SAACjK,GACjC,OAAO8J,EAAgBG,MACrB,SAACC,GAAD,OAAYA,EAAOzF,IAAMzE,EAAEyE,GAAKyF,EAAO/E,IAAMnF,EAAEmF,QAGnD,OAAQ6E,EAGKL,QChBf,SAASQ,EAAaP,GACpB,IAAME,EAAkB3J,OAAO4J,KAAKH,GAAc3C,QAAO,SAACmD,EAAOvH,GAM/D,OALA+G,EAAa/G,GAAKwE,SAAQ,SAACrH,GACrBA,EAAEyE,GAAK,GAAKzE,EAAEyE,GAAK,GAAKzE,EAAEmF,GAAK,GAAKnF,EAAEmF,GAAK,GAC7CiF,OAGGA,IACN,GACH,OAAON,EAGMK,QCZf,SAASE,EAAe5F,EAAGU,EAAGa,EAAOK,EAAQlC,GAC3C,OAAe,MAAXA,EACK,CAAEM,EAAGuB,EAAQvB,EAAGU,EAAGkB,EAASlB,GACf,KAAXhB,EACF,CAAEM,EAAG4B,EAASlB,EAAGA,EAAGV,GACP,MAAXN,EACF,CAAEM,EAAGU,EAAGA,EAAGa,EAAQvB,GAEnB,CAAEA,IAAGU,KAIDkF,QCZTC,EAAW,GAEFA,ICCf,SAASC,EAAKlG,EAAWJ,GAAI,MACvBuG,EAAa,EACXxE,EAAQ3B,EAAUJ,GAAI8C,KAAK,GAAG7G,OAC9BmG,EAAShC,EAAUJ,GAAI8C,KAAK7G,OAC9BiE,EAASE,EAAUJ,GAAIE,OACkB,GAAxCU,KAAKC,MAAMT,EAAUJ,GAAIE,OAAS,IAAY,IAC/C,EACAA,EAAS,IACXA,EAAS,IAAMA,GAGjB,IAAMC,EAAO,UAAAC,EAAUJ,UAAV,SAAeG,KAAOC,EAAUJ,GAAIG,KAAO,EAGpDD,EAAS,MAAQ,IAAM6B,IAAUK,IACnCmE,EAAiCF,EAAW,GAA9BtE,EAAQK,IAExB,IAAM5B,EACJI,KAAKC,OAAOT,EAAUJ,GAAIQ,EAAI+F,GAAcF,GAAYA,EACxDE,EACIrF,EACJN,KAAKC,OAAOT,EAAUJ,GAAIkB,EAAIqF,GAAcF,GAAYA,EACxDE,EAEIC,EAAQhG,EAAI6F,EAAWE,EAAaF,EACpCI,EAAQvF,EAAImF,EAAWE,EAAaF,EAEtCvD,EAAO,eAAI1C,EAAUJ,GAAI8C,OAEf,IAAV3C,IACF2C,EAAOA,EAAK4D,WAGd,IAAMd,EAAae,EACjB7D,EACA5C,EAEAsG,EACAC,GAGF,MAAO,CAAEjG,IAAGU,IAAGhB,SAAQ0F,cAGzB,SAASe,EAAkB1D,EAAK/C,EAAQsG,EAAOC,GAC7C,IAAM1E,EAAQkB,EAAI,GAAGhH,OAAS,EACxBmG,EAASa,EAAIhH,OAAS,EACtB8G,EAASE,EAAID,QAAO,SAACD,EAAQG,EAAKhC,GAMtC,OALAgC,EAAIE,SAAQ,SAACwD,EAAGpG,GACV0C,EAAI1C,IACNuC,EAAOxG,KAAK,CAAEiE,IAAGU,SAGd6B,IACN,IAEG8D,EAAe9D,EAAO+D,KAAI,SAAC/K,GAAD,OAC9BqK,EAAerK,EAAEyE,EAAGzE,EAAEmF,EAAGa,EAAOK,EAAQlC,MAG1C,OAAO2G,EAAaC,KAAI,SAAC/K,GAAD,MAAQ,CAAEyE,EAAGzE,EAAEyE,EAAIgG,EAAOtF,EAAGnF,EAAEmF,EAAIuF,MAG9CH,QfhBTX,EAAe,GACjBoB,EAAoB,GAET,GACblJ,KAAM,QACNwD,WAAY,CACV2F,QACAC,SACAC,SACAC,SAEFpG,MAAO,CACLzB,OAAQiC,MACRhC,KAAMgC,OAERC,QAZa,WAYH,WACRmE,EAAapG,KAAb,eAAwB0B,KAAK1B,MAC7B0B,KAAKb,UAAUgD,SAAQ,SAACtD,EAAOsH,GAC7BzB,EAAayB,GAAO,EAAK,EAAKhH,UAAWgH,GAAKxB,eAGlDnK,KAlBa,WAmBX,MAAO,CACLoI,UAAW,CAAErD,EAAG,KAAMU,EAAG,MACzBmG,SAAU,KACV/G,WAAW,EACXF,UAAWa,KAAK3B,OAAOwH,KAAI,SAAChH,GAC1B,IAAQU,EAAsBV,EAAtBU,EAAGU,EAAmBpB,EAAnBoB,EAAGuB,EAAgB3C,EAAhB2C,MAAOK,EAAShD,EAATgD,KACrB,MAAO,CACLtC,EAAGA,EAAI,EACPU,EAAGA,EAAI,EACPuB,QACAK,aAKRiB,QAAS,CACP9D,KADO,SACFD,GACHiB,KAAKoG,SAAW,CACdrH,KACAsH,KAAM,OACNC,OAAQtG,KAAKb,UAAUJ,GAAIQ,EAC3BgH,OAAQvG,KAAKb,UAAUJ,GAAIkB,GAE7BD,KAAKb,UAAUa,KAAKoG,SAASrH,IAAI2D,EAAI,EACrC1C,KAAKb,UAAUa,KAAKoG,SAASrH,IAAI0D,KAAO,MACxCqD,EAAoB,CAClBvG,EAAGS,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIQ,EACpCU,EAAGD,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIkB,EACpChB,OAAQe,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIE,SAG7CA,OAhBO,SAgBAzE,GACL,IAAQmJ,EAA2BnJ,EAA3BmJ,OAAQ5E,EAAmBvE,EAAnBuE,GAAIiF,EAAexJ,EAAfwJ,WACpBhE,KAAKoG,SAAW,CACdrH,KACA4E,SACAK,aACAqC,KAAM,UAERrG,KAAKb,UAAUa,KAAKoG,SAASrH,IAAI2D,EAAI,EACrC1C,KAAKb,UAAUa,KAAKoG,SAASrH,IAAI0D,KAAO,MACxCqD,EAAoB,CAClBvG,EAAGS,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIQ,EACpCU,EAAGD,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIkB,EACpChB,OAAQe,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIE,SAG7CC,KAhCO,SAgCFH,GACHyB,QAAQC,IAAI,OAAQ1B,GACpB,IAAMG,EAAOc,KAAKb,UAAUJ,GAAIG,KAAOc,KAAKb,UAAUJ,GAAIG,KAAO,EACjE4G,EAAoB,CAClBvG,EAAGS,KAAKb,UAAUJ,GAAIQ,EACtBU,EAAGD,KAAKb,UAAUJ,GAAIkB,EACtBhB,OAAQe,KAAKb,UAAUJ,GAAIE,OAC3BC,KAAMc,KAAKb,UAAUJ,GAAIG,MAE3Bc,KAAKb,UAAUJ,GAAIG,MAAe,EAARA,GAE5BP,UA3CO,SA2CGoE,GACR/C,KAAK4C,UAAUrD,EAAIwD,EAAEU,MACrBzD,KAAK4C,UAAU3C,EAAI8C,EAAEO,OAEvB5E,QA/CO,WAgDL,GAAsB,OAAlBsB,KAAKoG,SACP,OAAO,EAETpG,KAAK4C,UAAUrD,EAAI,KACnBS,KAAK4C,UAAU3C,EAAI,KAEnB,MAAmC,EAAKD,KAAKb,UAAWa,KAAKoG,SAASrH,IAAhEQ,EAAN,EAAMA,EAAGU,EAAT,EAASA,EAAGhB,EAAZ,EAAYA,OAAQ0F,EAApB,EAAoBA,WAEpB,GAAI,EAASD,EAAcC,EAAY3E,KAAKoG,SAASrH,IACnD2F,EAAa1E,KAAKoG,SAASrH,IAAM4F,MAC5B,OACemB,EAAjBvG,EADE,EACFA,EAAGU,EADD,EACCA,EAAGhB,EADJ,EACIA,OACTe,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIQ,EAAIA,EACrCS,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIkB,EAAIA,EACrCD,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIE,OAASA,EAJrC,MAKe,EAAKe,KAAKb,UAAWa,KAAKoG,SAASrH,IAApDQ,EALE,EAKFA,EAAGU,EALD,EAKCA,EAAGhB,EALJ,EAKIA,OAEXe,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIQ,EAAIA,EACrCS,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIkB,EAAIA,EACrCO,QAAQC,IAAIlB,EAAGU,GACfD,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIE,OAASA,EAC1Ce,KAAKb,UAAUa,KAAKoG,SAASrH,IAAI2D,EAAI,EACrC1C,KAAKb,UAAUa,KAAKoG,SAASrH,IAAI0D,KAAO,EACxCzC,KAAKoG,SAAW,KACmB,KAA/B,EAAa1B,IACflE,QAAQC,IAAI,kBACZT,KAAKX,WAAY,GAEjBW,KAAKX,WAAY,GAGrBT,UA/EO,SA+EGmE,GACR,GAAsB,OAAlB/C,KAAKoG,SACP,OAAO,EAIT,IAAM7G,EAAIwD,EAAEU,MAAQzD,KAAK4C,UAAUrD,EAC7BU,EAAI8C,EAAEO,MAAQtD,KAAK4C,UAAU3C,EACnC,GAA2B,SAAvBD,KAAKoG,SAASC,KAChBrG,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIQ,EAAIS,KAAKoG,SAASE,OAAS/G,EAC5DS,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIkB,EAAID,KAAKoG,SAASG,OAAStG,OACvD,GAA2B,WAAvBD,KAAKoG,SAASC,KAAmB,CAC1C,IAAM1C,EAAS3D,KAAKoG,SAASzC,OACvBC,EACkD,IAArDjE,KAAKkE,MAAMd,EAAEO,MAAQK,EAAO1D,EAAG8C,EAAEU,MAAQE,EAAOpE,GAAYI,KAAKmE,GACpE9D,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIE,OAC/B2E,EAAQ5D,KAAKoG,SAASpC,WAE1B,MAAqB,EAAKhE,KAAKb,UAAWa,KAAKoG,SAASrH,IAAlD4F,EAAN,EAAMA,WACF,EAASD,EAAcC,EAAY3E,KAAKoG,SAASrH,MACnD2F,EAAa1E,KAAKoG,SAASrH,IAAM4F,EACjCmB,EAAoB,CAClBvG,EAAGS,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIQ,EACpCU,EAAGD,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIkB,EACpChB,OAAQe,KAAKb,UAAUa,KAAKoG,SAASrH,IAAIE,Y,UgBzLnD,EAAOiB,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QCRTqG,GAAO,CACX,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,IAEN,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAEN,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAEN,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAEN,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAEN,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAEN,CACE,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAIR,SAASC,KACP,OAAOD,GAAKzE,QAAO,SAACzD,EAAMoI,GACxB,IAAMC,EAAOD,EAAI/G,KAAKiH,MAAMjH,KAAKE,SAAW6G,EAAI1L,SAEhD,OADAsD,EAAKhD,KAAK,CAAEiE,EAAGoH,EAAK,GAAI1G,EAAG0G,EAAK,KACzBrI,IACN,IAGUmI,UC9DTpI,GAAS,CACb,CACEkB,EAAG,EACHU,EAAG,GACHuB,MAAO,SACPK,KAAM,CACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAGR,CACEtC,EAAG,EACHU,EAAG,GACHuB,MAAO,SACPK,KAAM,CACJ,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGX,CACEtC,EAAG,EACHU,EAAG,GACHuB,MAAO,SACPK,KAAM,CAAC,CAAC,EAAG,EAAG,KAEhB,CACEtC,EAAG,EACHU,EAAG,EACHuB,MAAO,YACPK,KAAM,CACJ,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGX,CACEtC,EAAG,EACHU,EAAG,GACHuB,MAAO,MACPK,KAAM,CACJ,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGX,CAAEtC,EAAG,EAAGU,EAAG,EAAGuB,MAAO,QAASK,KAAM,CAAC,CAAC,EAAG,KACzC,CACEtC,EAAG,EACHU,EAAG,EACHuB,MAAO,OACPK,KAAM,CAAC,CAAC,EAAG,EAAG,EAAG,KAEnB,CACEtC,EAAG,EACHU,EAAG,GACHuB,MAAO,QACPK,KAAM,CACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAGR,CACEtC,EAAG,EACHU,EAAG,EACHuB,MAAO,OACPK,KAAM,CAAC,CAAC,MAIGxD,MnB1DA,IACbzB,KAAM,MACNwD,WAAY,CACVyG,SAEFrM,KALa,WAMX,MAAO,CACL8D,KAAM,KAAUuH,KAAI,SAACvG,GAAD,MAAU,CAAEC,EAAGD,EAAIC,EAAI,EAAGU,EAAGX,EAAIW,EAAI,MACzD5B,OAAA,M,UoBZN,GAAO6B,OAASA,EAED,UCJf4G,eAAUC,IAAKC,MAAM,S,oCCHrB,W,kCCAA,W,gICAA,W,kCCAA,W","file":"js/app.ea12797a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/puzzle-square/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board2.vue?vue&type=style&index=0&id=e5bd3dac&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Shape.vue?vue&type=style&index=0&id=310d583e&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Stage.vue?vue&type=style&index=0&id=13141106&scoped=true&lang=css\"","<template>\n  <Stage :shapes=\"shapes\" :pegs=\"pegs\" />\n</template>\n\n<script>\nimport Stage from \"./components/Stage.vue\";\nimport getPegs from \"./utils/dice\";\nimport shapes from \"./utils/shapesDefns\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Stage,\n  },\n  data() {\n    return {\n      pegs: getPegs().map((peg) => ({ x: peg.x + 2, y: peg.y + 2 })),\n      shapes,\n    };\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","<template>\n  <Board3 />\n  <div class=\"backstage\">\n    <Board2 />\n  </div>\n  <div\n    @mouseup=\"mouseup\"\n    @mousedown=\"mousedown\"\n    @mousemove=\"mousemove\"\n    class=\"stage\"\n  >\n    <div class=\"offSet\">\n      <Board :pegs=\"pegs\" />\n      <Shape\n        v-for=\"(shape, index) in shapes\"\n        :key=\"index\"\n        :id=\"index\"\n        @move=\"move\"\n        @rotate=\"rotate\"\n        @flip=\"flip\"\n        :shapeData=\"shapeData[index]\"\n        :position=\"{\n          x: shapeData[index].x,\n          y: shapeData[index].y,\n          z: shapeData[index].z,\n          size: shapeData[index].size,\n          flip: shapeData[index].flip,\n          rotate: shapeData[index].rotate || 0,\n        }\"\n      />\n    </div>\n  </div>\n  <div v-if=\"completed\">Completed!</div>\n  <p v-if=\"!completed\" class=\"info\">\n    Drag the shapes into posiotion to fill the grid. Drag the edge of a shape to\n    rotate, double click to filp. <a href=\"https://www.happypuzzle.co.uk/30cubed/genius-square\n\" target=\"_blank\">(Based on the Genius Square)</a>\n  </p>\n</template>\n\n<script>\nimport Board from \"./Board.vue\";\nimport Board2 from \"./Board2.vue\";\nimport Board3 from \"./Board3.vue\";\nimport Shape from \"./Shape.vue\";\nimport canPlace from \"../utils/canPlace\";\nimport gridComplete from \"../utils/gridComplete\";\nimport snap from \"../utils/snap\";\nimport unitSize from \"../utils/unitSize\";\n\nconst gridPlacings = {};\nlet lastValidPosition = {};\n\nexport default {\n  name: \"Stage\",\n  components: {\n    Board,\n    Board2,\n    Board3,\n    Shape,\n  },\n  props: {\n    shapes: Array,\n    pegs: Array,\n  },\n  created() {\n    gridPlacings.pegs = [...this.pegs];\n    this.shapeData.forEach((shape, idx) => {\n      gridPlacings[idx] = snap(this.shapeData, idx).gridCoords;\n    });\n  },\n  data() {\n    return {\n      moveStart: { x: null, y: null },\n      moveItem: null,\n      completed: false,\n      shapeData: this.shapes.map((shape) => {\n        const { x, y, color, defn } = shape;\n        return {\n          x: x * unitSize,\n          y: y * unitSize,\n          color,\n          defn,\n        };\n      }),\n    };\n  },\n  methods: {\n    move(id) {\n      this.moveItem = {\n        id,\n        type: \"move\",\n        startX: this.shapeData[id].x,\n        startY: this.shapeData[id].y,\n      };\n      this.shapeData[this.moveItem.id].z = 1;\n      this.shapeData[this.moveItem.id].size = 1.025;\n      lastValidPosition = {\n        x: this.shapeData[this.moveItem.id].x,\n        y: this.shapeData[this.moveItem.id].y,\n        rotate: this.shapeData[this.moveItem.id].rotate,\n      };\n    },\n    rotate(data) {\n      const { centre, id, startAngle } = data;\n      this.moveItem = {\n        id,\n        centre,\n        startAngle,\n        type: \"rotate\",\n      };\n      this.shapeData[this.moveItem.id].z = 1;\n      this.shapeData[this.moveItem.id].size = 1.025;\n      lastValidPosition = {\n        x: this.shapeData[this.moveItem.id].x,\n        y: this.shapeData[this.moveItem.id].y,\n        rotate: this.shapeData[this.moveItem.id].rotate,\n      };\n    },\n    flip(id) {\n      console.log(\"flip\", id);\n      const flip = this.shapeData[id].flip ? this.shapeData[id].flip : 1;\n      lastValidPosition = {\n        x: this.shapeData[id].x,\n        y: this.shapeData[id].y,\n        rotate: this.shapeData[id].rotate,\n        flip: this.shapeData[id].flip,\n      };\n      this.shapeData[id].flip = flip * -1;\n    },\n    mousedown(e) {\n      this.moveStart.x = e.pageX;\n      this.moveStart.y = e.pageY;\n    },\n    mouseup() {\n      if (this.moveItem === null) {\n        return false;\n      }\n      this.moveStart.x = null;\n      this.moveStart.y = null;\n\n      let { x, y, rotate, gridCoords } = snap(this.shapeData, this.moveItem.id);\n      //console.log(gridPlacings);\n      if (canPlace(gridPlacings, gridCoords, this.moveItem.id)) {\n        gridPlacings[this.moveItem.id] = gridCoords;\n      } else {\n        ({ x, y, rotate } = lastValidPosition);\n        this.shapeData[this.moveItem.id].x = x;\n        this.shapeData[this.moveItem.id].y = y;\n        this.shapeData[this.moveItem.id].rotate = rotate;\n        ({ x, y, rotate } = snap(this.shapeData, this.moveItem.id));\n      }\n      this.shapeData[this.moveItem.id].x = x;\n      this.shapeData[this.moveItem.id].y = y;\n      console.log(x, y);\n      this.shapeData[this.moveItem.id].rotate = rotate;\n      this.shapeData[this.moveItem.id].z = 0;\n      this.shapeData[this.moveItem.id].size = 1;\n      this.moveItem = null;\n      if (gridComplete(gridPlacings) === 36) {\n        console.log(\"GRID COMPLETE!\");\n        this.completed = true;\n      } else {\n        this.completed = false;\n      }\n    },\n    mousemove(e) {\n      if (this.moveItem === null) {\n        return false;\n      }\n      /* let stage = document.querySelector(\".stage\");\n      stage.getBoundingClientRect().left - */\n      const x = e.pageX - this.moveStart.x;\n      const y = e.pageY - this.moveStart.y;\n      if (this.moveItem.type === \"move\") {\n        this.shapeData[this.moveItem.id].x = this.moveItem.startX + x;\n        this.shapeData[this.moveItem.id].y = this.moveItem.startY + y;\n      } else if (this.moveItem.type === \"rotate\") {\n        const centre = this.moveItem.centre;\n        const angle =\n          (Math.atan2(e.pageY - centre.y, e.pageX - centre.x) * 180) / Math.PI;\n        this.shapeData[this.moveItem.id].rotate =\n          angle - this.moveItem.startAngle;\n      }\n      let { gridCoords } = snap(this.shapeData, this.moveItem.id);\n      if (canPlace(gridPlacings, gridCoords, this.moveItem.id)) {\n        gridPlacings[this.moveItem.id] = gridCoords;\n        lastValidPosition = {\n          x: this.shapeData[this.moveItem.id].x,\n          y: this.shapeData[this.moveItem.id].y,\n          rotate: this.shapeData[this.moveItem.id].rotate,\n        };\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.offSet {\n  position: absolute;\n  top: 0;\n  left: calc(50vw - 250px);\n  bottom: 0;\n  right: 0;\n}\n.stage {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  filter: drop-shadow(2px 5px 4px #999);\n}\n.backstage {\n  position: absolute;\n  top: 0;\n  left: calc(50vw - 250px);\n  bottom: 0;\n  right: 0;\n  filter: drop-shadow(2px 5px 4px #999);\n}\n.info {\n  max-width: 400px;\n  margin: auto;\n  position: relative;\n  z-index: 99;\n}\n</style>\n","<template>\n  <div class=\"board\">\n    <Peg v-for=\"(peg, index) in pegs\" :key=\"index\" :position=\"peg\" />\n  </div>\n</template>\n\n<script>\nimport Peg from \"./Peg.vue\";\n\nexport default {\n  name: \"Shape\",\n  components: {\n    Peg,\n  },\n  props: {\n    pegs: Array,\n  },\n  created() {\n    console.log(this.pegs);\n  },\n};\n\n// console.log(this.pegs);\n</script>\n\n<style scoped>\n.board {\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n</style>\n","<template>\n  <div class=\"peg\" :x=\"x\" :style=\"cssProps\"></div>\n</template>\n\n<script>\nfunction randomBorder() {\n  return Math.round(Math.random() * 40) + 30;\n}\nexport default {\n  name: \"Peg\",\n  props: {\n    position: Object,\n  },\n  computed: {\n    cssProps() {\n      return {\n        \"--x\": this.position.x * 50 + 2 + \"px\",\n        \"--y\": this.position.y * 50 + 2 + \"px\",\n        \"border-radius\": `${randomBorder()}% ${randomBorder()}% ${randomBorder()}% ${randomBorder()}% / ${randomBorder()}% ${randomBorder()}% ${randomBorder()}% ${randomBorder()}%`,\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.peg {\n  position: absolute;\n  width: 42px;\n  height: 42px;\n  left: var(--x);\n  top: var(--y);\n  pointer-events: none;\n  background: #ff6464;\n  border: 2px solid #616161;\n}\n</style>\n","import { render } from \"./Peg.vue?vue&type=template&id=08430529&scoped=true\"\nimport script from \"./Peg.vue?vue&type=script&lang=js\"\nexport * from \"./Peg.vue?vue&type=script&lang=js\"\n\nimport \"./Peg.vue?vue&type=style&index=0&id=08430529&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-08430529\"\n\nexport default script","import { render } from \"./Board.vue?vue&type=template&id=b8530ebe&scoped=true\"\nimport script from \"./Board.vue?vue&type=script&lang=js\"\nexport * from \"./Board.vue?vue&type=script&lang=js\"\n\nimport \"./Board.vue?vue&type=style&index=0&id=b8530ebe&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b8530ebe\"\n\nexport default script","<template>\n  <div class=\"board\"></div>\n</template>\n\n<script></script>\n\n<style scoped>\n.board {\n  position: absolute;\n  top: 100px;\n  left: 100px;\n  width: 300px;\n  height: 300px;\n  pointer-events: none;\n  background-image: url(\"~@/assets/space.svg\");\n  background-size: 16.6666%;\n}\n</style>\n","import { render } from \"./Board2.vue?vue&type=template&id=e5bd3dac&scoped=true\"\nconst script = {}\n\nimport \"./Board2.vue?vue&type=style&index=0&id=e5bd3dac&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-e5bd3dac\"\n\nexport default script","<template>\n  <div class=\"board\"></div>\n</template>\n\n<script></script>\n\n<style scoped>\n.board {\n  position: absolute;\n  top: 100px;\n  left: calc(50vw - 150px);\n  width: 300px;\n  height: 300px;\n  pointer-events: none;\n  background: #fff0b8ad;\n  /* background-image: url(\"~@/assets/space2.svg\");\n  background-size: 16.6666%; */\n}\n</style>\n","import { render } from \"./Board3.vue?vue&type=template&id=255548cc&scoped=true\"\nconst script = {}\n\nimport \"./Board3.vue?vue&type=style&index=0&id=255548cc&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-255548cc\"\n\nexport default script","<template>\n  <div\n    ref=\"shape\"\n    @mousedown.prevent=\"mousedown\"\n    @mousemove.prevent=\"mousemove\"\n    @mouseout=\"mouseout\"\n    @dblclick.prevent=\"dblclick\"\n    class=\"shape\"\n  >\n    <svg width=\"100%\" :viewBox=\"viewbox\">\n      <g>\n        <rect\n          v-for=\"(coord, index) in defnCoords\"\n          v-bind:key=\"index\"\n          :x=\"coord.x + 0.02\"\n          :y=\"coord.y + 0.02\"\n          width=\"0.975\"\n          height=\"0.975\"\n          stroke=\"rgb(85 85 85 / 75%)\"\n          stroke-width=\"0.025\"\n          rx=\"0.1\"\n          :fill=\"shapeData.color\"\n          data-target=\"true\"\n        />\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nlet handleSize = 10;\nlet handleDirection = 1;\n\nfunction defnToCoords(defn) {\n  const coords = defn.reduce((arr, row, rowIdx) => {\n    row.forEach((col, colIdx) => {\n      if (col) {\n        arr.push({ x: colIdx, y: rowIdx });\n      }\n    });\n    return arr;\n  }, []);\n  return coords;\n}\n\nexport default {\n  name: \"Shape\",\n  props: {\n    id: Number,\n    shapeData: Object,\n    position: Object,\n  },\n  watch: {\n    position: function (newVal) {\n      this.render(\n        newVal.x,\n        newVal.y,\n        newVal.rotate,\n        newVal.size,\n        newVal.flip,\n        newVal.z\n      );\n    },\n  },\n  mounted() {\n    this.render(this.shapeData.x, this.shapeData.y);\n  },\n  data() {\n    return {\n      moveStart: {\n        x: null,\n        y: null,\n      },\n      moveNow: {\n        x: null,\n        y: null,\n      },\n      defnCoords: defnToCoords(this.shapeData.defn),\n      width: this.shapeData.defn[0].length,\n      height: this.shapeData.defn.length,\n      viewbox: `0 0 ${this.shapeData.defn[0].length} ${this.shapeData.defn.length}`, //${this.shapeData.defn[0].length} ${this.shapeData.defn.length}`,\n    };\n  },\n  methods: {\n    mouseout() {\n      this.render(\n        this.shapeData.x,\n        this.shapeData.y,\n        this.shapeData.rotate,\n        this.shapeData.size,\n        this.shapeData.flip,\n        this.shapeData.z\n      );\n      handleSize = 10;\n      handleDirection *= -1;\n    },\n    mousemove(e) {\n      if (e.target.dataset.target) {\n        const shapeElBCR = this.$refs.shape.getBoundingClientRect();\n        const segmentElBCR = e.target.getBoundingClientRect();\n        if (\n          (shapeElBCR.bottom - e.pageY < handleSize ||\n            shapeElBCR.top - e.pageY > -handleSize ||\n            shapeElBCR.right - e.pageX < handleSize ||\n            shapeElBCR.left - e.pageX > -handleSize) &&\n          ((segmentElBCR.top - e.pageY > -handleSize &&\n            segmentElBCR.left - e.pageX > -handleSize) ||\n            (segmentElBCR.top - e.pageY > -handleSize &&\n              segmentElBCR.right - e.pageX < handleSize) ||\n            (segmentElBCR.bottom - e.pageY < handleSize &&\n              segmentElBCR.left - e.pageX > -handleSize) ||\n            (segmentElBCR.bottom - e.pageY < handleSize &&\n              segmentElBCR.right - e.pageX < handleSize))\n        ) {\n          this.render(\n            this.shapeData.x,\n            this.shapeData.y,\n            this.shapeData.rotate + handleDirection,\n            this.shapeData.size,\n            this.shapeData.flip,\n            this.shapeData.z\n          );\n          handleSize = 15;\n        } else {\n          this.render(\n            this.shapeData.x,\n            this.shapeData.y,\n            this.shapeData.rotate,\n            this.shapeData.size,\n            this.shapeData.flip,\n            this.shapeData.z\n          );\n          handleSize = 10;\n          handleDirection *= -1;\n        }\n      }\n    },\n    mousedown(e) {\n      if (e.target.dataset.target) {\n        const shapeElBCR = this.$refs.shape.getBoundingClientRect();\n        if (\n          shapeElBCR.bottom - e.pageY < 10 ||\n          shapeElBCR.top - e.pageY > -10 ||\n          shapeElBCR.right - e.pageX < 10 ||\n          shapeElBCR.left - e.pageX > -10\n        ) {\n          const centre = {\n            x: shapeElBCR.left + shapeElBCR.width / 2,\n            y: shapeElBCR.top + shapeElBCR.height / 2,\n          };\n          const angle =\n            (Math.atan2(e.pageY - centre.y, e.pageX - centre.x) * 180) /\n            Math.PI;\n          this.$emit(\"rotate\", {\n            id: this.id,\n            startAngle: angle - this.position.rotate,\n            centre,\n          });\n        } else {\n          this.$emit(\"move\", this.id);\n        }\n\n        // console.log(\"pos\", this.shapeData);\n      }\n    },\n    dblclick() {\n      this.$emit(\"flip\", this.id);\n    },\n    render(x, y, rotation = 0, size = 1, flip = 1, z = 0) {\n      // console.log(flip);\n      const el = this.$refs.shape;\n      const renderDefn = {\n        width: `${this.width * 50}px`,\n        height: `${this.height * 50}px`,\n        transform: `translate(${x}px, ${y}px) rotate(${rotation}deg) scale(${size}, ${flip})`,\n        transformOrigin: \"center\",\n        zIndex: z,\n      };\n\n      el.animate([renderDefn, renderDefn], { duration: 0, fill: \"forwards\" });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.shape {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50px;\n  height: 50px;\n  pointer-events: none;\n}\n.shape.hover {\n  transform: rotate(2deg);\n}\nrect {\n  pointer-events: initial;\n  background: url(\"~@/assets/wood.png\");\n  cursor: pointer;\n}\n</style>\n","import { render } from \"./Shape.vue?vue&type=template&id=310d583e&scoped=true\"\nimport script from \"./Shape.vue?vue&type=script&lang=js\"\nexport * from \"./Shape.vue?vue&type=script&lang=js\"\n\nimport \"./Shape.vue?vue&type=style&index=0&id=310d583e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-310d583e\"\n\nexport default script","function canPlace(gridPlacings, gridCoords, id) {\n  const occupiedSquares = Object.keys(gridPlacings).reduce((arr, key) => {\n    // ignore current shape position & get list of occupied grid squares\n    if (id !== ~~key || key === \"pegs\") {\n      gridPlacings[key].forEach((i) => arr.push(i));\n    }\n    return arr;\n  }, []);\n  const collision = gridCoords.some((i) => {\n    return occupiedSquares.some(\n      (square) => square.x === i.x && square.y === i.y\n    );\n  });\n  return !collision;\n}\n\nexport default canPlace;\n","function gridComplete(gridPlacings) {\n  const occupiedSquares = Object.keys(gridPlacings).reduce((count, key) => {\n    gridPlacings[key].forEach((i) => {\n      if (i.x >= 2 && i.x <= 7 && i.y >= 2 && i.y <= 7) {\n        count++;\n      }\n    });\n    return count;\n  }, 0);\n  return occupiedSquares;\n}\n\nexport default gridComplete;\n","function transformCoord(x, y, width, height, rotate) {\n  if (rotate === 180) {\n    return { x: width - x, y: height - y };\n  } else if (rotate === 90) {\n    return { x: height - y, y: x };\n  } else if (rotate === 270) {\n    return { x: y, y: width - x };\n  } else {\n    return { x, y };\n  }\n}\n\nexport default transformCoord;\n","const unitSize = 50;\n\nexport default unitSize;\n","import transformCoord from \"./transformCoord\";\nimport unitSize from \"./unitSize\";\n\nfunction snap(shapeData, id) {\n  let snapOffset = 0;\n  const width = shapeData[id].defn[0].length;\n  const height = shapeData[id].defn.length;\n  let rotate = shapeData[id].rotate\n    ? (Math.round(shapeData[id].rotate / 90) * 90) % 360\n    : 0;\n  if (rotate < 0) {\n    rotate = 360 + rotate;\n  }\n\n  const flip = shapeData[id]?.flip ? shapeData[id].flip : 1;\n\n  // offset height and width on rotate\n  if (rotate % 180 === 90 && width !== height) {\n    snapOffset = (width - height) * (unitSize / 2);\n  }\n  const x =\n    Math.round((shapeData[id].x + snapOffset) / unitSize) * unitSize -\n    snapOffset;\n  const y =\n    Math.round((shapeData[id].y - snapOffset) / unitSize) * unitSize +\n    snapOffset;\n\n  const gridX = x / unitSize + snapOffset / unitSize;\n  const gridY = y / unitSize - snapOffset / unitSize;\n\n  let defn = [...shapeData[id].defn];\n\n  if (flip === -1) {\n    defn = defn.reverse();\n  }\n\n  const gridCoords = rotateArrayCoords(\n    defn,\n    rotate,\n    // flip,\n    gridX,\n    gridY\n  );\n\n  return { x, y, rotate, gridCoords };\n}\n\nfunction rotateArrayCoords(arr, rotate, gridX, gridY) {\n  const width = arr[0].length - 1;\n  const height = arr.length - 1;\n  const coords = arr.reduce((coords, row, y) => {\n    row.forEach((_, x) => {\n      if (row[x]) {\n        coords.push({ x, y });\n      }\n    });\n    return coords;\n  }, []);\n  // const rotateUnits = rotate / 90;\n  const rotateCoords = coords.map((i) =>\n    transformCoord(i.x, i.y, width, height, rotate)\n  );\n\n  return rotateCoords.map((i) => ({ x: i.x + gridX, y: i.y + gridY }));\n}\n\nexport default snap;\n","import { render } from \"./Stage.vue?vue&type=template&id=13141106&scoped=true\"\nimport script from \"./Stage.vue?vue&type=script&lang=js\"\nexport * from \"./Stage.vue?vue&type=script&lang=js\"\n\nimport \"./Stage.vue?vue&type=style&index=0&id=13141106&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-13141106\"\n\nexport default script","const dice = [\n  [\n    [0, 5],\n    [5, 0],\n  ],\n  [\n    [2, 0],\n    [2, 1],\n    [1, 2],\n    [1, 1],\n    [0, 1],\n    [1, 0],\n  ],\n  [\n    [4, 4],\n    [4, 5],\n    [3, 5],\n    [4, 3],\n    [3, 4],\n    [5, 4],\n  ],\n  [\n    [1, 3],\n    [1, 4],\n    [0, 2],\n    [2, 5],\n    [0, 0],\n    [0, 3],\n  ],\n  [\n    [3, 1],\n    [2, 4],\n    [3, 3],\n    [3, 2],\n    [2, 3],\n    [2, 2],\n  ],\n  [\n    [3, 0],\n    [5, 5],\n    [5, 3],\n    [4, 2],\n    [5, 2],\n    [4, 1],\n  ],\n  [\n    [4, 0],\n    [5, 1],\n    [1, 5],\n    [0, 4],\n    [1, 5],\n  ],\n];\n\nfunction getPegs() {\n  return dice.reduce((pegs, die) => {\n    const face = die[Math.floor(Math.random() * die.length)];\n    pegs.push({ x: face[0], y: face[1] });\n    return pegs;\n  }, []);\n}\n\nexport default getPegs;\n","const shapes = [\n  {\n    x: 0,\n    y: 10,\n    color: \"purple\",\n    defn: [\n      [0, 1],\n      [1, 1],\n    ],\n  },\n  {\n    x: 2,\n    y: 10,\n    color: \"yellow\",\n    defn: [\n      [0, 1, 0],\n      [1, 1, 1],\n    ],\n  },\n  {\n    x: 6,\n    y: 10,\n    color: \"orange\",\n    defn: [[1, 1, 1]],\n  },\n  {\n    x: 0,\n    y: 8,\n    color: \"cadetblue\",\n    defn: [\n      [1, 0, 0],\n      [1, 1, 1],\n    ],\n  },\n  {\n    x: 4,\n    y: 10,\n    color: \"red\",\n    defn: [\n      [1, 1, 0],\n      [0, 1, 1],\n    ],\n  },\n  { x: 7, y: 9, color: \"brown\", defn: [[1, 1]] },\n  {\n    x: 3,\n    y: 9,\n    color: \"grey\",\n    defn: [[1, 1, 1, 1]],\n  },\n  {\n    x: 9,\n    y: 10,\n    color: \"green\",\n    defn: [\n      [1, 1],\n      [1, 1],\n    ],\n  },\n  {\n    x: 9,\n    y: 9,\n    color: \"blue\",\n    defn: [[1]],\n  },\n];\n\nexport default shapes;\n","import { render } from \"./App.vue?vue&type=template&id=a6eaaa76\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=a6eaaa76&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board3.vue?vue&type=style&index=0&id=255548cc&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Peg.vue?vue&type=style&index=0&id=08430529&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=a6eaaa76&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board.vue?vue&type=style&index=0&id=b8530ebe&scoped=true&lang=css\""],"sourceRoot":""}